<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by WebGain Javadoc 3.10.6.113 on Mon Dec 31 13:20:39 2001 -->
<a name="_top_"></a>
<title>
  Class com.heaton.bot.Spider
</title>
</head>
<body>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.heaton.bot.html">This Package</a>  <a href="com.heaton.bot.Log.html#_top_">Previous</a>  <a href="com.heaton.bot.SpiderInternalWorkload.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class com.heaton.bot.Spider
</h1>
<pre>
Object
   |
   +----Thread
           |
           +----com.heaton.bot.Spider
</pre>
<hr>
<dl>
  <dt> public class <b>Spider</b>
  <dt> extends Thread
  <dt> implements <a href="com.heaton.bot.ISpiderReportable.html#_top_">ISpiderReportable</a></dl>
<hr>
<a name="index"></a>
<h2>
  <img src="/C:/VisualCafeXE/java/docs/images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_done"><b>_done</b></a>
  <dd>   <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_halted"><b>_halted</b></a>
  <dd>   <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_manager"><b>_manager</b></a>
  <dd>   <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_maxBodySize"><b>_maxBodySize</b></a>
  <dd>   <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_pool"><b>_pool</b></a>
  <dd>   <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_workload"><b>_workload</b></a>
  <dd>   <dt> <img src="/C:/VisualCafeXE/java/docs/images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#_worldSpider"><b>_worldSpider</b></a>
  <dd> </dl>
<h2>
  <img src="/C:/VisualCafeXE/java/docs/images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Spider(com.heaton.bot.ISpiderReportable, java.lang.String, com.heaton.bot.HTTP, int)"><b>com.heaton.bot.Spider</b></a>(ISpiderReportable, String, HTTP, int)
  <dd>  This constructor prepares the spider to begin.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Spider(com.heaton.bot.ISpiderReportable, java.lang.String, com.heaton.bot.HTTP, int, com.heaton.bot.IWorkloadStorable)"><b>com.heaton.bot.Spider</b></a>(ISpiderReportable, String, HTTP, int, IWorkloadStorable)
  <dd>  This constructor prepares the spider to begin.
</dl>
<h2>
  <img src="/C:/VisualCafeXE/java/docs/images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addWorkload(java.lang.String)"><b>addWorkload</b></a>(String)
  <dd>  Called to add a workload to the workload manager.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#completePage(com.heaton.bot.HTTP, boolean)"><b>completePage</b></a>(HTTP, boolean)
  <dd>  Called to request that a page be processed.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#foundExternalLink(java.lang.String)"><b>foundExternalLink</b></a>(String)
  <dd>  Called when the spider finds an external
 link.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#foundInternalLink(java.lang.String)"><b>foundInternalLink</b></a>(String)
  <dd>  Called when the spider finds an internal
 link.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#foundOtherLink(java.lang.String)"><b>foundOtherLink</b></a>(String)
  <dd>  Called when the spider finds a type of
 link that does not point to another HTML
 page(for example a mailto link).
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getMaxBody()"><b>getMaxBody</b></a>()
  <dd>  This method will return the maximum body size
 that will be downloaded.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getRemoveQuery()"><b>getRemoveQuery</b></a>()
  <dd>  This method is called by the spider to determine if
 query strings should be removed.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getSpiderDone()"><b>getSpiderDone</b></a>()
  <dd>  Get the SpiderDone object used by this spider
 to determine when it is done.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getWorkload()"><b>getWorkload</b></a>()
  <dd>  This method is called to get a workload
 from the workload manager.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getWorldSpider()"><b>getWorldSpider</b></a>()
  <dd>  Returns true if this is a world spider, a world
 spider does not restrict itself to a single site
 and will likely go on "forever".
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#halt()"><b>halt</b></a>()
  <dd>  Called to cause the spider to halt.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#isHalted()"><b>isHalted</b></a>()
  <dd>  Determines if the spider has been halted.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#processPage(com.heaton.bot.HTTP)"><b>processPage</b></a>(HTTP)
  <dd>  Called to actually process a page.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#run()"><b>run</b></a>()
  <dd>  The main loop of the spider.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setMaxBody(int)"><b>setMaxBody</b></a>(int)
  <dd>  This method will set the maximum body size
 that will be downloaded.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setWorldSpider(boolean)"><b>setWorldSpider</b></a>(boolean)
  <dd>  Called to specify this spider as either a world
 or site spider.
  <dt> <img src="/C:/VisualCafeXE/java/docs/images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#spiderComplete()"><b>spiderComplete</b></a>()
  <dd>  Called when the spider has no more work.
</dl>
<a name="variables"></a>
<h2>
  <img src="/C:/VisualCafeXE/java/docs/images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="_done"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_done</b>
<pre>
protected com.heaton.bot.SpiderDone _done
</pre>
<a name="_halted"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_halted</b>
<pre>
protected boolean _halted
</pre>
<a name="_manager"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_manager</b>
<pre>
protected com.heaton.bot.ISpiderReportable _manager
</pre>
<a name="_maxBodySize"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_maxBodySize</b>
<pre>
protected int _maxBodySize
</pre>
<a name="_pool"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_pool</b>
<pre>
protected com.heaton.bot.SpiderWorker[] _pool
</pre>
<a name="_workload"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_workload</b>
<pre>
protected com.heaton.bot.IWorkloadStorable _workload
</pre>
<a name="_worldSpider"><img src="/C:/VisualCafeXE/java/docs/images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>_worldSpider</b>
<pre>
protected boolean _worldSpider
</pre>
<a name="constructors"></a>
<h2>
  <img src="/C:/VisualCafeXE/java/docs/images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Spider"></a>
<a name="Spider(com.heaton.bot.ISpiderReportable, java.lang.String, com.heaton.bot.HTTP, int)"><img src="/C:/VisualCafeXE/java/docs/images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Spider</b>
<pre>
public Spider(<a href="com.heaton.bot.ISpiderReportable.html#_top_">ISpiderReportable</a> manager,
              String url,
              <a href="com.heaton.bot.HTTP.html#_top_">HTTP</a> http,
              int poolSize)
</pre>
<dl>
  <dd> This constructor prepares the spider to begin.
 Basic information required to begin is passed.
 This constructor uses the internal workload manager.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> manager - The object that this spider reports its findings to.
    <dd> url - The URL that the spider should begin at.
    <dd> http - The HTTP handler used by this spider.
    <dd> poolsize - The size of the thread pool.
  </dl></dd>
</dl>
<a name="Spider(com.heaton.bot.ISpiderReportable, java.lang.String, com.heaton.bot.HTTP, int, com.heaton.bot.IWorkloadStorable)"><img src="/C:/VisualCafeXE/java/docs/images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Spider</b>
<pre>
public Spider(<a href="com.heaton.bot.ISpiderReportable.html#_top_">ISpiderReportable</a> manager,
              String url,
              <a href="com.heaton.bot.HTTP.html#_top_">HTTP</a> http,
              int poolSize,
              <a href="com.heaton.bot.IWorkloadStorable.html#_top_">IWorkloadStorable</a> w)
</pre>
<dl>
  <dd> This constructor prepares the spider to begin.
 Basic information required to begin is passed.
 This constructor allows the user to specify a
 customized workload manager.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> manager - The object that this spider reports its findings to.
    <dd> url - The URL that the spider should begin at.
    <dd> http - The HTTP handler used by this spider.
    <dd> poolsize - The size of the thread pool.
    <dd> w - A customized workload manager.
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="/C:/VisualCafeXE/java/docs/images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="addWorkload(java.lang.String)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addWorkload"><b>addWorkload</b></a>
<pre>
public synchronized void addWorkload(String url)
</pre>
<dl>
  <dd> Called to add a workload to the workload manager.
 This method will release a thread that was waiting
 for a workload. This method will do nothing if the
 spider has been halted.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> url - The URL to be added to the workload.
  </dl></dd>
</dl>
<a name="completePage(com.heaton.bot.HTTP, boolean)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="completePage"><b>completePage</b></a>
<pre>
public synchronized void completePage(<a href="com.heaton.bot.HTTP.html#_top_">HTTP</a> page,
                                      boolean error)
</pre>
<dl>
  <dd> Called to request that a page be processed.
 This page was just downloaded by the spider.
 This messages passes this call on to its
 manager.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> page - The page contents.
    <dd> error - true - This page resulted in an HTTP error.
 false - This page downloaded correctly.
  </dl></dd>
</dl>
<a name="foundExternalLink(java.lang.String)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="foundExternalLink"><b>foundExternalLink</b></a>
<pre>
public synchronized boolean foundExternalLink(String url)
</pre>
<dl>
  <dd> Called when the spider finds an external
 link. An external link does not share the
 same host address as the URL that started
 the spider. This method hands the link off
 to the manager and adds the URL to the workload
 if necessary. If this is a world spider, then
 external links are treated as internal links.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> url - The URL that was found by the spider.
    <dt> <b>Returns:</b>
    <dd> true - The spider should add this URL to the workload.
 false - The spider should not add this URL to the workload.
  </dl></dd>
</dl>
<a name="foundInternalLink(java.lang.String)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="foundInternalLink"><b>foundInternalLink</b></a>
<pre>
public synchronized boolean foundInternalLink(String url)
</pre>
<dl>
  <dd> Called when the spider finds an internal
 link. An internal link shares the same
 host address as the URL that started
 the spider. This method hands the link off
 to the manager and adds the URL to the workload
 if necessary.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> url - The URL that was found by the spider.
    <dt> <b>Returns:</b>
    <dd> true - The spider should add this URL to the workload.
 false - The spider should not add this URL to the workload.
  </dl></dd>
</dl>
<a name="foundOtherLink(java.lang.String)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="foundOtherLink"><b>foundOtherLink</b></a>
<pre>
public synchronized boolean foundOtherLink(String url)
</pre>
<dl>
  <dd> Called when the spider finds a type of
 link that does not point to another HTML
 page(for example a mailto link). This method
 hands the link off to the manager and adds
 the URL to the workload if necessary.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> url - The URL that was found by the spider.
    <dt> <b>Returns:</b>
    <dd> true - The spider should add this URL to the workload.
 false - The spider should not add this URL to the workload.
  </dl></dd>
</dl>
<a name="getMaxBody()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getMaxBody"><b>getMaxBody</b></a>
<pre>
public int getMaxBody()
</pre>
<dl>
  <dd> This method will return the maximum body size
 that will be downloaded.
  <p> 
 <dd><dl>
    <dt> <b>Returns:</b>
    <dd> The maximum body size, or -1 for unlifted.
  </dl></dd>
</dl>
<a name="getRemoveQuery()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getRemoveQuery"><b>getRemoveQuery</b></a>
<pre>
public synchronized boolean getRemoveQuery()
</pre>
<dl>
  <dd> This method is called by the spider to determine if
 query strings should be removed. By default the spider
 always chooses to remove query strings, so true is
 returned.
  <p> 
 <dd><dl>
    <dt> <b>Returns:</b>
    <dd> true - Query string should be removed.
 false - Leave query strings as is.
  </dl></dd>
</dl>
<a name="getSpiderDone()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getSpiderDone"><b>getSpiderDone</b></a>
<pre>
public com.heaton.bot.SpiderDone getSpiderDone()
</pre>
<dl>
  <dd> Get the SpiderDone object used by this spider
 to determine when it is done.
  <p> 
 <dd><dl>
    <dt> <b>Returns:</b>
    <dd> Returns true if the spider is done.
  </dl></dd>
</dl>
<a name="getWorkload()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getWorkload"><b>getWorkload</b></a>
<pre>
public synchronized java.lang.String getWorkload()
</pre>
<dl>
  <dd> This method is called to get a workload
 from the workload manager. If no workload
 is available, this method will block until
 there is one.
  <p> 
 <dd><dl>
    <dt> <b>Returns:</b>
    <dd> Returns the next URL to be spidered.
  </dl></dd>
</dl>
<a name="getWorldSpider()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getWorldSpider"><b>getWorldSpider</b></a>
<pre>
public boolean getWorldSpider()
</pre>
<dl>
  <dd> Returns true if this is a world spider, a world
 spider does not restrict itself to a single site
 and will likely go on "forever".
  <p> 
 <dd><dl>
    <dt> <b>Returns:</b>
    <dd> Returns true if the spider is done.
  </dl></dd>
</dl>
<a name="halt()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="halt"><b>halt</b></a>
<pre>
public synchronized void halt()
</pre>
<dl>
  <dd> Called to cause the spider to halt. The spider will not halt
 immediately. Once the spider is halted the run method will
 return.
  <p> 
</dl>
<a name="isHalted()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="isHalted"><b>isHalted</b></a>
<pre>
public boolean isHalted()
</pre>
<dl>
  <dd> Determines if the spider has been halted.
  <p> 
 <dd><dl>
    <dt> <b>Returns:</b>
    <dd> Returns true if the spider has been halted.
  </dl></dd>
</dl>
<a name="processPage(com.heaton.bot.HTTP)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="processPage"><b>processPage</b></a>
<pre>
public synchronized void processPage(<a href="com.heaton.bot.HTTP.html#_top_">HTTP</a> page)
</pre>
<dl>
  <dd> Called to actually process a page. This is where the
 work actually done by the spider is usually preformed.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> page - The page contents.
    <dd> error - true - This page resulted in an HTTP error.
 false - This page downloaded correctly.
  </dl></dd>
</dl>
<a name="run()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="run"><b>run</b></a>
<pre>
public void run()
</pre>
<dl>
  <dd> The main loop of the spider. This can be called
 directly, or the start method can be called to
 run as a background thread. This method will not
 return until there is no work remaining for the
 spider.
  <p> 
 <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> run in class Thread
  </dl></dd>
</dl>
<a name="setMaxBody(int)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setMaxBody"><b>setMaxBody</b></a>
<pre>
public void setMaxBody(int mx)
</pre>
<dl>
  <dd> This method will set the maximum body size
 that will be downloaded.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> i - The maximum body size, or -1 for unlifted.
  </dl></dd>
</dl>
<a name="setWorldSpider(boolean)"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setWorldSpider"><b>setWorldSpider</b></a>
<pre>
public void setWorldSpider(boolean b)
</pre>
<dl>
  <dd> Called to specify this spider as either a world
 or site spider. See getWorldSpider for more information
 about what a world spider is.
  <p> 
 <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> b - True to be a world spider.
  </dl></dd>
</dl>
<a name="spiderComplete()"><img src="/C:/VisualCafeXE/java/docs/images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="spiderComplete"><b>spiderComplete</b></a>
<pre>
public synchronized void spiderComplete()
</pre>
<dl>
  <dd> Called when the spider has no more work. This method
 just passes this event on to its manager.
  <p> 
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.heaton.bot.html">This Package</a>  <a href="com.heaton.bot.Log.html#_top_">Previous</a>  <a href="com.heaton.bot.SpiderInternalWorkload.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
